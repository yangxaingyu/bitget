<template>
  <div>
    <HzHeader></HzHeader>
    <div class="register-reg-wrap asia" data-v-40cac73a data-v-201148b6>
      <div class="register-reg-box" data-v-40cac73a>
        <div v-if="false" class="register-reg-content-left" data-v-40cac73a>
          <div data-v-40cac73a>
            <div data-v-0e6a890e data-v-40cac73a class="reg-box-default-banner">
              <div data-v-0e6a890e class="reg-box-default-banner__title">
                Get together, trade together
              </div>
              <p data-v-0e6a890e class="reg-box-default-banner__tips">Sign up and trade with the Pros!
              </p>
              <div data-v-0e6a890e class="reg-box-default-banner-img reg-box-default-banner__img"
                   style="background-image: url(../assets/img/big-banner-zh-CN.png);"></div>
            </div>
          </div>
          <div data-v-49ec4adf data-v-40cac73a class="join-telegram">
            <div data-v-49ec4adf class="join-telegram-logo-wrap">
              <img data-v-49ec4adf
                   src="/baseasset/img/login/tg-black.svg" alt="icon"
                   class="w-20px h-20px mr-2px inline-block" style="display: none;">
              <img
                  data-v-49ec4adf
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAiCAYAAADCp/A1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJrSURBVHgBzVjRdeIwEFz7UkBogOfrIKkgpIJwFcRUcFwFcBWQVHB3HdDBuYP4M38RVGAagMyQNVEcA7YkTOY9xbKftBrPascKkXwhJEkyWK/XN1EUpbxFK9D/HcmZAWKXuKSbzeYO10HNkOJCzgRV7Q7kUtxeHhrbKUlbNbQBUtlkWjdKtlGtBuZkJB1V+wTMWwUnCXJXqtpY2qtWhzwYSaYUxCY+qu2BH0mmFKr9BKkxyLVRLZc3lZMGY4tYHEDV+v3+HxB7AcGpNE8rzfnXYrG4xtys4Zx2SvqkFOMzXEYGQJyJVvoxFBh+3II8UrpbiJ82LPag8e4RZ9pwLrfFfjMvybFKsYhrleaY+4PqacxJC4Jb+6klqcbLt019qhTzH+M4njJdLgQVH5UMaCEG80cojsyK7ULwnSQCJAgwQxuKJ6rqEXCBmRq7Cwz/XCDAf2nmVweD1ajHPT3Ts6FbUGO2SsYI8k88QPUQ4xoBM7EI8uV9CIqmmogRfIpg3xGUZI00B9W7XS6XYzu9un2e0L0SDyD2ouxvC0ctItVFhkjTEINupH4b0PcecX2wyVkEQ2wfYqfkwTJmxcubIqVPGrR5lZyEJyjqr3P2D35xdJ9l0gB0CAlEsFy+7AQ5U6mKLxIQcIodN6dTUAfI7ZsgJFl4PERIINiVTQRTUq3sVtrZ2D6EV7IEC41E1XN9cDqSBFMPg+cJaiTuqhr75qQ/s7Dq8WHgNrhvM8+ubOKk1e2oal590IkFgevfpnu1WtlEZz7ZQtWs+qBzMz+iqkGbVx9+kzOgAFar1bzX6zG12wMM/+WlyniJ5+r4V0RheWtrTJC+AAAAAElFTkSuQmCC"
                  alt="icon" class="w-20px h-20px mr-2px inline-block" style="display: none;"> <img
                data-v-49ec4adf
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAiCAYAAADCp/A1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJrSURBVHgBzVjRdeIwEFz7UkBogOfrIKkgpIJwFcRUcFwFcBWQVHB3HdDBuYP4M38RVGAagMyQNVEcA7YkTOY9xbKftBrPascKkXwhJEkyWK/XN1EUpbxFK9D/HcmZAWKXuKSbzeYO10HNkOJCzgRV7Q7kUtxeHhrbKUlbNbQBUtlkWjdKtlGtBuZkJB1V+wTMWwUnCXJXqtpY2qtWhzwYSaYUxCY+qu2BH0mmFKr9BKkxyLVRLZc3lZMGY4tYHEDV+v3+HxB7AcGpNE8rzfnXYrG4xtys4Zx2SvqkFOMzXEYGQJyJVvoxFBh+3II8UrpbiJ82LPag8e4RZ9pwLrfFfjMvybFKsYhrleaY+4PqacxJC4Jb+6klqcbLt019qhTzH+M4njJdLgQVH5UMaCEG80cojsyK7ULwnSQCJAgwQxuKJ6rqEXCBmRq7Cwz/XCDAf2nmVweD1ajHPT3Ts6FbUGO2SsYI8k88QPUQ4xoBM7EI8uV9CIqmmogRfIpg3xGUZI00B9W7XS6XYzu9un2e0L0SDyD2ouxvC0ctItVFhkjTEINupH4b0PcecX2wyVkEQ2wfYqfkwTJmxcubIqVPGrR5lZyEJyjqr3P2D35xdJ9l0gB0CAlEsFy+7AQ5U6mKLxIQcIodN6dTUAfI7ZsgJFl4PERIINiVTQRTUq3sVtrZ2D6EV7IEC41E1XN9cDqSBFMPg+cJaiTuqhr75qQ/s7Dq8WHgNrhvM8+ubOKk1e2oal590IkFgevfpnu1WtlEZz7ZQtWs+qBzMz+iqkGbVx9+kzOgAFar1bzX6zG12wMM/+WlyniJ5+r4V0RheWtrTJC+AAAAAElFTkSuQmCC"
                alt="icon" class="w-20px h-20px mr-2px inline-block"></div>
            <div data-v-49ec4adf class="join-telegram-title">
              <p data-v-49ec4adf><a data-v-49ec4adf href="https://t.me/bitgetEN"
                                    class="font-500 mr-2px">
                Join Bitget Telegram now
              </a>
                <svg data-v-49ec4adf width="12" height="12" viewBox="0 0 12 12" fill="none"
                     xmlns="http://www.w3.org/2000/svg" class="rtl-rotate">
                  <g data-v-49ec4adf clip-path="url(#clip0_2633_63743)">
                    <path data-v-49ec4adf
                          d="M9.27411 5.41857L4.60836 0.627571L3.80211 1.41207L8.22186 5.95707C8.23322 5.9687 8.23958 5.98431 8.23958 6.00057C8.23958 6.01683 8.23322 6.03244 8.22186 6.04407L3.80211 10.5891L4.60836 11.3721L9.27336 6.58107C9.63261 6.22032 9.64836 5.79357 9.27411 5.41857Z"
                          fill="#1F1F1F"></path>
                  </g>
                  <defs data-v-49ec4adf>
                    <clipPath data-v-49ec4adf id="clip0_2633_63743">
                      <rect data-v-49ec4adf width="12" height="12" fill="white"
                            transform="translate(12 12) rotate(-180)"></rect>
                    </clipPath>
                  </defs>
                </svg>
                <svg data-v-49ec4adf width="12" height="12" viewBox="0 0 12 12" fill="none"
                     xmlns="http://www.w3.org/2000/svg" class="rtl-rotate" style="display: none;">
                  <g data-v-49ec4adf clip-path="url(#clip0_2633_63743)">
                    <path data-v-49ec4adf
                          d="M9.27411 5.41857L4.60836 0.627571L3.80211 1.41207L8.22186 5.95707C8.23322 5.9687 8.23958 5.98431 8.23958 6.00057C8.23958 6.01683 8.23322 6.03244 8.22186 6.04407L3.80211 10.5891L4.60836 11.3721L9.27336 6.58107C9.63261 6.22032 9.64836 5.79357 9.27411 5.41857Z"
                          fill="#fff"></path>
                  </g>
                  <defs data-v-49ec4adf>
                    <clipPath data-v-49ec4adf id="clip0_2633_63743">
                      <rect data-v-49ec4adf width="12" height="12" fill="white"
                            transform="translate(12 12) rotate(-180)"></rect>
                    </clipPath>
                  </defs>
                </svg>
              </p>
              <span data-v-49ec4adf class="text-share white">
                                Get help, share ideas, and receive firsthand Bitget news.
                            </span>
            </div>
          </div>
        </div>
        <div class="reg-content" data-v-40cac73a>
          <div class="reg-step-two-box" data-v-40cac73a>
            <div class="register-step reg-step-two show" data-v-22c2eca8 data-v-40cac73a>
              <h1 class="register-step-title" data-v-22c2eca8>
                Welcome to Bitget
              </h1>
              <div class="reg-form-box" data-v-22c2eca8>
                <div data-v-8ef6bb76 data-v-22c2eca8>
                  <div class="register-fir" data-v-8ef6bb76>
                    <div data-v-08335308 data-v-8ef6bb76>
                      <div class="register-fir" data-v-08335308>
                        <div class="reg-form-group mb24" data-v-08335308>
                          <div class="reg-form-input"
                               data-v-08335308>
                            <label data-v-08335308>Email</label>
                            <div class="register-email-input" data-v-e450a41a data-v-08335308>
                              <div class="phon-email-wrap" data-v-e450a41a>
                                <input type="text" autocomplete="off" placeholder="Email"
                                       class="input custom-register-input custom-register-input-asia"
                                       v-model="user.email"
                                       data-v-e450a41a>
                              </div>
                            </div>
                            <div class="show-pwd-str" data-v-08335308>
                              <span class="clear-icon" data-v-08335308></span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="reg-form-group mb24" data-v-8ef6bb76>
                      <div data-v-05f58ccf data-v-8ef6bb76>
                        <div class="reg-form-input" data-v-05f58ccf>
                          <label data-v-05f58ccf>Password</label>
                          <input autocomplete="new-password"
                                 maxlength="32"
                                 placeholder="Set password"
                                 :type="passwordType"
                                 class="pwd-input pwd-input-asia"
                                 v-model="user.password"
                                 data-v-05f58ccf>
                        </div>
                        <div class="show-pwd-str" data-v-05f58ccf>
                          <img data-v-17599e9a alt="eye-closed-black" src="../assets/img/eyeclosed-black.svg" style="display: none;">
                          <img data-v-17599e9a alt="eye-open-black" src="../assets/img/eye-open-black.svg" style="display: none;">
                          <img data-v-17599e9a alt="eye-closed" v-show="!isShowPassword" @click="toggleShow(true)" src="../assets/img/EyeClosed.627bf67.svg">
                          <img data-v-17599e9a alt="eye-open" v-show="isShowPassword" @click="toggleShow(false)" src="../assets/img/EyeOpened.e61a4b6.svg">
                        </div>
                      </div>
                    </div>
                    <div data-v-5d6e290d data-v-8ef6bb76>
                      <div class="register-fir" data-v-5d6e290d>
                        <div class="reg-form-group mb24" data-v-5d6e290d><label
                            data-testid="RegisterShowInviteCodeInputButton"
                            class="invite-label" data-v-5d6e290d>
                          Referral code
                          <i class="iconfont icon-next2" data-v-5d6e290d></i></label>
                          <div class="reg-form-input" data-v-5d6e290d><input type="text"
                                                                             style="display: none; width: 0; height: 0"
                                                                             data-v-5d6e290d>
                            <div class="caps-lock-tip" style="display:none;"
                                 data-v-5d6e290d>
                              <img src="../assets/img/warn-icon.svg"
                                alt="register-warn-icon" data-v-5d6e290d>
                              <p data-v-5d6e290d>Caps Lock on.</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="reg-protocol clearfix flex flex-col items-start" data-v-8ef6bb76>
                      <div class="flex items-center gap-8px" data-v-8ef6bb76>
                        <div class="bit-theme-light-vue2" data-v-8ef6bb76>
                          <div class="flex" data-v-8ef6bb76>
                            <label class="bit-checkbox is-checked" data-v-8ef6bb76>
                              <span class="bit-checkbox__input is-main" :class="{'is-checked': isAgreeUserAgreement}">
                                <span class="bit-checkbox__inner"></span>
                                <input type="checkbox" class="bit-checkbox__original" @click="isAgreeUserAgreement = !isAgreeUserAgreement" v-model="isAgreeUserAgreement">
                              </span>
                            </label>
                            <p class="user-protocol items-center ml-8px relative top-2px" data-v-8ef6bb76>I have read and agreed to the
                              <a href="/support/articles/360014944032-Terms-of-Users" target="_blank">User Agreement</a>
                            </p>
                          </div>

                          <div class="flex items-center mt-8px" data-v-8ef6bb76>
                            <label class="bit-checkbox is-checked" data-v-8ef6bb76>
                              <span class="bit-checkbox__input is-main" :class="{'is-checked': isAgreePrivatePolicy}">
                                <span class="bit-checkbox__inner"></span>
                                <input type="checkbox" class="bit-checkbox__original" @click="isAgreePrivatePolicy = !isAgreePrivatePolicy" v-model="isAgreePrivatePolicy">
                              </span>
                            </label>
                            <p class="user-protocol ml-8px relative top-2px" data-v-8ef6bb76>
                              I have read and agreed to the
                              <a href="/kr-policy" target="_blank">Privacy Policy</a>
                            </p>
                          </div>

                          <div class="flex items-center mt-8px" data-v-8ef6bb76>
                            <label class="bit-checkbox is-checked" data-v-8ef6bb76>
                              <span class="bit-checkbox__input is-main" :class="{'is-checked': isAdult}">
                                <span class="bit-checkbox__inner"></span>
                                <input type="checkbox" class="bit-checkbox__original" @click="isAdult = !isAdult" v-model="isAdult">
                              </span>
                            </label>
                            <p class="ml-8px relative top-2px" data-v-8ef6bb76>
                              I am above 18 years old.
                            </p></div>
                        </div>
                      </div>
                    </div>
                    <div class="bit-theme-light-vue2" data-v-8ef6bb76>
                      <div class="mt-24px" data-v-8ef6bb76>
                        <button :disabled="!isAllAgree"
                                type="button"
                                class="bit-button w-full bit-button--chunky bit-button--medium is-round"
                                :class="{'is-disabled': !isAllAgree}"
                                style="box-shadow:0 4px 0 0;"
                                @click="registerFn"
                                data-v-8ef6bb76>
                          <span>Create Account</span>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div data-v-6d60a60a data-v-8ef6bb76
                       class="bit-dialog__wrapper is-centered is-responsive" style="display: none;">
                    <div role="dialog" aria-modal="true" aria-label="Privacy Policy"
                         class="bit-dialog tips-dialog bit-theme-light-vue2"
                         style="margin-top: 15vh; width: 600px;">
                      <div class="bit-dialog__header">
                        <span class="bit-dialog__title">Privacy Policy</span>
                        <button type="button" aria-label="Close"
                                class="bit-dialog__headerbtn">
                          <i class="bit-icon" style="font-size: 20px;">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                              <path d="M19.28 18.22a.75.75 0 01-.817 1.223.75.75 0 01-.244-.162L12 13.06l-6.22 6.22a.75.75 0 01-1.06-1.062L10.94 12 4.72 5.78a.75.75 0 111.06-1.06L12 10.94l6.22-6.22a.75.75 0 011.06 1.06L13.06 12l6.22 6.22z">
                              </path>
                            </svg>
                          </i>
                        </button>
                      </div>
                      <div class="bit-dialog__footer">
                        <div data-v-6d60a60a class="dialog-footer">
                          <div data-v-6d60a60a class="ltIpad:hidden">
                            <button
                                data-v-6d60a60a type="button"
                                class="bit-button cancel-btn bit-button--default bit-button--medium is-round">
                              <span>
                                Cancel
                              </span>
                            </button>
                            <button data-v-6d60a60a
                                    disabled="disabled" type="button"
                                    class="bit-button confirm-btn bit-button--main bit-button--medium is-disabled is-round">
                              <span>
                                Scroll down to continue
                              </span>
                            </button>
                          </div>
                          <div data-v-6d60a60a
                               class="ltIpad:block atIpad:hidden pc:hidden w-full">
                            <button
                                data-v-6d60a60a disabled="disabled" type="button"
                                class="bit-button confirm-btn w-full bit-button--main bit-button--medium is-disabled is-round">
                              <span>
                                Scroll down to continue
                              </span>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div data-v-22c2eca8 class="light">
                  <div data-v-22c2eca8 class="go-login-tips mt-12px">
                    Already have an account?
                    <router-link to="login">
                    <span data-v-22c2eca8
                          data-testid="RegisterGoLoginPageButton"
                          class="go-login">
                      Log in
                    </span>
                    </router-link>
                  </div>
                </div>
              </div>
              <div data-v-4e3dae4e data-v-22c2eca8
                   class="bit-dialog__wrapper is-centered is-notitle" style="display: none;">
                <div role="dialog" aria-modal="true" aria-label="dialog"
                     class="bit-dialog bit-dialog--center bit-theme-light-vue2"
                     style="margin-top: 15vh;">
                  <div class="bit-dialog__header"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div v-show="isShowAlertError" role="alert" class="bit-message bit-message--error" style="top: 100px; z-index: 2002;">
      <i class="bit-icon bit-message__icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M12 2.25A9.75 9.75 0 1021.75 12 9.76 9.76 0 0012 2.25zm3.53 12.22a.75.75 0 11-1.06 1.06L12 13.06l-2.47 2.47a.75.75 0 11-1.06-1.06L10.94 12 8.47 9.53a.75.75 0 011.06-1.06L12 10.94l2.47-2.47a.751.751 0 011.06 1.06L13.06 12l2.47 2.47z"></path>
        </svg>
      </i>
      <p class="bit-message__content">
        {{ alertErrorMsg }}
      </p>
    </div>
  </div>
</template>

<script>
import axios from "axios"; // 引入头部组件

export default {
  data() {
    return {
      isShowPassword: false,
      passwordType: 'password',
      isAgreeUserAgreement: false,
      isAgreePrivatePolicy: false,
      isAdult: false,
      isAllAgree: false,
      emailError: '',
      passwordError: '',
      isShowAlertError: false,
      alertErrorMsg: '',
      user: {
        email: '',
        phone: '',
        password: ''
      }
    }
  },
  computed: {
    // isAll () {
    //     return this.fruitList.every(item => item.isChecked)
    // }
    // isAllAgree: {
    //   get() {
    //     return true
    //     // console.log(this.isAgreeUserAgreement)
    //     // console.log(this.isAgreePrivatePolicy)
    //     // console.log(this.isAdult)
    //     // if (this.isAgreeUserAgreement && this.isAgreePrivatePolicy && this.isAdult) {
    //     //   return true
    //     // } else {
    //     //   return false
    //     // }
    //   },
    //   // set(value) {
    //   //   this.fruitList.forEach(item => item.isChecked = value)
    //   // }
    // }
  },
  methods: {
    toggleShow(bool) {
      this.isShowPassword = bool
      if (this.isShowPassword) {
        this.passwordType = 'text'
      } else {
        this.passwordType = 'password'
      }
    },

    async registerFn() {
      const res = await axios.post('https://bitgetend.hzdev.top/api/register', {
        user_email: this.user.email,
        user_password: this.user.password
      })

      if (res.data.code === 200) {
        // this.emailError = ''
        // this.passwordError = ''
        // localStorage.setItem("token", res.data.data.token)
        // 跳转 dashboard
        // this.$router.push({
        //   path:"/dashboard",
        // })
        this.isShowAlertError = true
        this.alertErrorMsg = res.data.msg
        this.timer = setTimeout(() => {
          console.log('timer......')
          this.isShowAlertError = false
          this.alertErrorMsg = ''
          this.$router.push({
            path: "/login",
          })
        }, 5000)
      } else {
        this.isShowAlertError = true
        this.alertErrorMsg = res.data.msg
        this.timer = setTimeout(() => {
          console.log('timer......')
          this.isShowAlertError = false
          this.alertErrorMsg = ''
        }, 5000)
        //clearTimeout(this.timer)
      }
      console.log(res)
    }
  }
};
</script>
<style scoped>

</style>